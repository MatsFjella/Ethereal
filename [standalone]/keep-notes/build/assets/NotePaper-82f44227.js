import{_ as T,c as d,e as _,i as o,x as n,y as u,q as a,t as r,k as m,T as v,R as f,l as p,S as g,U as k,V as I,W as w,j as x}from"./index-2d3c0272.js";import{b as D}from"./QBtn-cf576227.js";import"./Note-5ef67584.js";const C={props:["note","type","options"],components:{DeleteDialog:d(()=>_(()=>import("./DeleteDialog-7ee15a1d.js"),["./DeleteDialog-7ee15a1d.js","./QBtn-cf576227.js","./index-2d3c0272.js","./index-66b1d0a5.css","./Note-5ef67584.js","./use-dark-60db826c.js","./QDialog-57e8c5f8.js","./focusout-e39b7496.js","./ClosePopup-c9c077b7.js"],import.meta.url)),NormalText:d(()=>_(()=>import("./NormalText-8bfb877f.js"),["./NormalText-8bfb877f.js","./QMenu-d1840566.js","./Note-5ef67584.js","./index-2d3c0272.js","./index-66b1d0a5.css","./use-dark-60db826c.js","./QBtn-cf576227.js","./focusout-e39b7496.js","./QInput-5c77434c.js","./ClosePopup-c9c077b7.js","./NormalText-dabd130a.css"],import.meta.url)),WishList:d(()=>_(()=>import("./WishList-7a985761.js"),["./WishList-7a985761.js","./QInput-5c77434c.js","./index-2d3c0272.js","./index-66b1d0a5.css","./QBtn-cf576227.js","./Note-5ef67584.js","./use-dark-60db826c.js","./QMenu-d1840566.js","./focusout-e39b7496.js","./QDialog-57e8c5f8.js","./WishList-435e210c.css"],import.meta.url))},data(){return{delete_index:-1,confirmed:!1,audio:null,anchoredLine:-1,note_refs:{}}},methods:{sfx(){this.audio&&this.audio.pause(),this.audio=new Audio("./sfx/ripping-paper-7123.mp3"),this.audio.volume=.5,this.audio.play()},start_delete(l){this.confirmed=!0,this.delete_index=l,this.$refs.childComponentRef.show()},showAnchor(l,s){setTimeout(()=>{this.anchoredLine=s},250)},hideAnchor(){setTimeout(()=>{this.anchoredLine=-1},200)},createLineIfMaxreached(l,s){this.note.lines[s].value.length>=60&&(this.note.lines.length==s+1?(this.note.select==!1?this.note.lines.push({value:""}):this.note.lines.push({value:[],amount:0}),setTimeout(()=>{let e="i-"+(s+1);this.note_refs[e].focus()},50)):setTimeout(()=>{let e="i-"+(s+1);this.note_refs[e].focus()},50))}},computed:{isTorn(){return!this.$root.readonly&&this.$root.paper_count.value>0&&this.$root.torn},theme(){return this.note.theme||"note"}}},N={key:0,class:"punch"},b={key:1,class:"punch-h"},E=["data-theme"],M={class:"quote"},V=["id"],P={key:0,style:{position:"absolute",right:"0"}},R={key:0,class:"quote-by"};function B(l,s,e,W,c,t){const y=p("NormalText"),L=p("WishList"),A=p("DeleteDialog");return o(),n(f,null,[u("div",null,[this.$root.readonly?a("",!0):(o(),n("div",N)),this.$root.readonly?a("",!0):(o(),n("div",b)),r(v,{name:"bounce"},{default:m(()=>[u("div",{class:g(["notepaper",t.isTorn?"bounce-leave-active":"bounce-enter-active"]),"data-theme":t.theme},[u("figure",M,[r(k,{name:"list"},{default:m(()=>[(o(!0),n(f,null,I(e.note.lines,(h,i)=>(o(),n("div",{key:i,id:`input${i}`,class:"line"},[h?(o(),n(f,{key:0},[e.note.select==!1?(o(),x(y,{key:0,note:e.note,index:i,item:h,start_delete:t.start_delete,showAnchor:t.showAnchor,hideAnchor:t.hideAnchor,createLineIfMaxreached:t.createLineIfMaxreached,note_refs:c.note_refs},null,8,["note","index","item","start_delete","showAnchor","hideAnchor","createLineIfMaxreached","note_refs"])):(o(),x(L,{key:1,note:e.note,options:e.options,index:i,item:h,start_delete:t.start_delete,showAnchor:t.showAnchor,createLineIfMaxreached:t.createLineIfMaxreached},null,8,["note","options","index","item","start_delete","showAnchor","createLineIfMaxreached"])),r(v,{name:"list"},{default:m(()=>[c.anchoredLine==i?(o(),n("span",P,[r(D,{tabindex:"1",size:"0.5rem",flat:"",icon:"fa fa-trash",onClick:q=>t.start_delete(i)},null,8,["onClick"])])):a("",!0)]),_:2},1024)],64)):a("",!0)],8,V))),128))]),_:1}),e.note.signature?(o(),n("figcaption",R,"â€” "+w(e.note.signature),1)):a("",!0)])],10,E)]),_:1})]),r(A,{note:e.note,delete_index:c.delete_index,ref:"childComponentRef"},null,8,["note","delete_index"])],64)}const j=T(C,[["render",B],["__scopeId","data-v-da7ec0c5"]]);export{j as default};
